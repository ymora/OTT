<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation Pr√©sentation OTT V3.3 - HAPPLYZ MEDICAL</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        /* Scrollbar personnalis√©e visible */
        html {
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 0, 0, 0.4) rgba(0, 0, 0, 0.15);
        }
        
        html::-webkit-scrollbar {
            width: 14px;
        }
        
        html::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.15);
            border-radius: 7px;
        }
        
        html::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 7px;
            border: 2px solid transparent;
            background-clip: padding-box;
        }
        
        html::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 0, 0, 0.6);
            background-clip: padding-box;
        }
        
        /* Dark mode scrollbar */
        html.dark {
            scrollbar-color: rgba(255, 255, 255, 0.4) rgba(255, 255, 255, 0.15);
        }
        
        html.dark::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.15);
        }
        
        html.dark::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.4);
            background-clip: padding-box;
        }
        
        html.dark::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.6);
            background-clip: padding-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
        }
        
        .nav-menu a, a {
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }
        
        body::before {
            content: 'CONFIDENTIEL - HAPPLYZ MEDICAL SAS';
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 3rem;
            color: rgba(0, 0, 0, 0.03);
            z-index: -1;
            pointer-events: none;
            white-space: nowrap;
        }
        
        @media print {
            body { display: none !important; }
        }
        
        .confidential-banner {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
            color: white;
            padding: 1rem;
            text-align: center;
            font-weight: bold;
            position: sticky;
            top: 0;
            z-index: 1500;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        
        /* S'assurer que le menu reste visible au-dessus de tout */
        body {
            position: relative;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem 2rem;
            box-shadow: 0 3px 15px rgba(0,0,0,0.2);
            text-align: center;
        }
        
        .header h1 {
            font-size: 3.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .header .subtitle {
            font-size: 1.4rem;
            opacity: 0.95;
            margin-top: 0.5rem;
        }
        
        .header .version-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            margin-top: 1rem;
            font-size: 1.1rem;
            font-weight: bold;
        }
        
        .nav-menu {
            position: -webkit-sticky; /* Safari */
            position: sticky;
            top: 0;
            background: #2c3e50;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 2000;
            margin-top: 0;
            width: 100%;
        }
        
        .nav-menu ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 1rem;
        }
        
        .nav-menu a {
            color: white;
            text-decoration: none;
            padding: 0.6rem 1.2rem;
            margin: 0.3rem;
            border-radius: 5px;
            transition: background 0.3s, transform 0.2s;
            font-size: 0.95rem;
            font-weight: 500;
        }
        
        .nav-menu a:hover {
            background: #34495e;
            transform: translateY(-2px);
        }
        
        .container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
        }
        
        .section {
            background: white;
            margin-bottom: 2rem;
            padding: 2.5rem;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section h2 {
            color: #667eea;
            font-size: 2.2rem;
            margin-bottom: 1.5rem;
            border-bottom: 3px solid #667eea;
            padding-bottom: 0.8rem;
        }
        
        .section h3 {
            color: #764ba2;
            font-size: 1.7rem;
            margin: 2rem 0 1rem 0;
        }
        
        .section h4 {
            color: #667eea;
            font-size: 1.3rem;
            margin: 1.5rem 0 0.8rem 0;
        }
        
        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1rem 0;
            border-left: 4px solid #667eea;
            font-size: 0.9rem;
        }
        
        code {
            background: #f4f4f4;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #e83e8c;
        }
        
        .alert {
            padding: 1.2rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            border-left: 5px solid;
        }
        
        .alert-success { background: #d4edda; border-color: #28a745; color: #155724; }
        .alert-warning { background: #fff3cd; border-color: #ffc107; color: #856404; }
        .alert-danger { background: #f8d7da; border-color: #dc3545; color: #721c24; }
        .alert-info { background: #d1ecf1; border-color: #17a2b8; color: #0c5460; }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        th {
            background: #667eea;
            color: white;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
        }
        
        td {
            padding: 0.9rem;
            border-bottom: 1px solid #ddd;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        ul, ol { margin-left: 2rem; }
        li { margin: 0.5rem 0; }
        
        .footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
        }
        
        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            body {
                background: #1a1a1a;
                color: #e0e0e0;
            }
            
            body::before {
                color: rgba(255, 255, 255, 0.03);
            }
            
            .section {
                background: #2d2d2d;
                color: #e0e0e0;
            }
            
            .section h2 {
                color: #9d8aff;
            }
            
            .section h3 {
                color: #b794f6;
            }
            
            .section h4 {
                color: #9d8aff;
            }
            
            code {
                background: #3d3d3d;
                color: #ff79c6;
            }
            
            .alert-success { background: #1e4620; border-color: #28a745; color: #90ee90; }
            .alert-warning { background: #4a3d00; border-color: #ffc107; color: #ffd700; }
            .alert-danger { background: #4a1e1e; border-color: #dc3545; color: #ff6b6b; }
            .alert-info { background: #1e3a4a; border-color: #17a2b8; color: #6bc5d4; }
            
            td {
                border-bottom: 1px solid #444;
            }
            
            tr:hover {
                background: #3a3a3a;
            }
        }
        
        /* Dark mode via classe (pour synchronisation avec parent) */
        body.dark {
            background: #1a1a1a;
            color: #e0e0e0;
        }
        
        body.dark::before {
            color: rgba(255, 255, 255, 0.03);
        }
        
        body.dark .section {
            background: #2d2d2d;
            color: #e0e0e0;
        }
        
        body.dark .section h2 {
            color: #9d8aff;
        }
        
        body.dark .section h3 {
            color: #b794f6;
        }
        
        body.dark .section h4 {
            color: #9d8aff;
        }
        
        body.dark code {
            background: #3d3d3d;
            color: #ff79c6;
        }
        
        body.dark .alert-success { background: #1e4620; border-color: #28a745; color: #90ee90; }
        body.dark .alert-warning { background: #4a3d00; border-color: #ffc107; color: #ffd700; }
        body.dark .alert-danger { background: #4a1e1e; border-color: #dc3545; color: #ff6b6b; }
        body.dark .alert-info { background: #1e3a4a; border-color: #17a2b8; color: #6bc5d4; }
        
        body.dark td {
            border-bottom: 1px solid #444;
        }
        
        body.dark tr:hover {
            background: #3a3a3a;
        }
        
        /* Images avec support dark mode */
        img {
            transition: opacity 0.3s ease;
        }
        
        html.dark img {
            opacity: 0.95;
        }
        
        html.dark img[style*="border"] {
            border-color: #555 !important;
        }
        
    </style>
    <script>
        // D√©tecter le th√®me AVANT le rendu pour √©viter le flash
        (function() {
            try {
                // Essayer de d√©tecter le th√®me du parent imm√©diatement
                if (window.parent && window.parent !== window) {
                    try {
                        const parentDoc = window.parent.document
                        if (parentDoc && parentDoc.documentElement) {
                            const isDark = parentDoc.documentElement.classList.contains('dark')
                            if (isDark) {
                                // Appliquer imm√©diatement avant le rendu (seulement sur documentElement)
                                document.documentElement.classList.add('dark')
                            }
                        }
                    } catch (e) {
                        // Cross-origin, on ne peut pas acc√©der au parent
                    }
                }
                
                // D√©tecter aussi le th√®me syst√®me
                if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    document.documentElement.classList.add('dark')
                }
            } catch (e) {
                // Erreur silencieuse
            }
        })();
    </script>
</head>
<body>
    <script>
        // D√©tecter le th√®me depuis le parent (pour les mises √† jour en temps r√©el)
        window.addEventListener('message', function(event) {
            if (event.data && event.data.type === 'theme') {
                if (event.data.isDark) {
                    document.documentElement.classList.add('dark')
                } else {
                    document.documentElement.classList.remove('dark')
                }
            }
        })
        
        // D√©tecter aussi le th√®me syst√®me au chargement (fallback)
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark')
        }
        
        // Protection contre la copie et les fuites
        (function() {
            // D√©sactiver le clic droit
            document.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                return false;
            });
            
            // D√©sactiver les raccourcis clavier de copie
            document.addEventListener('keydown', function(e) {
                if ((e.ctrlKey && (e.key === 'c' || e.key === 'C' || e.key === 'a' || e.key === 'A' || e.key === 's' || e.key === 'S' || e.key === 'p' || e.key === 'P' || e.key === 'u' || e.key === 'U')) || 
                    e.key === 'F12' || 
                    (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'i' || e.key === 'J' || e.key === 'j' || e.key === 'C' || e.key === 'c'))) {
                    e.preventDefault();
                    alert('‚ö†Ô∏è Cette documentation est confidentielle et prot√©g√©e. La copie est interdite.');
                    return false;
                }
            });
            
            // D√©sactiver le glisser-d√©poser
            document.addEventListener('dragstart', function(e) {
                e.preventDefault();
                return false;
            });
            
            // Avertissement au chargement
            window.addEventListener('load', function() {
                console.log('%c‚ö†Ô∏è ATTENTION', 'color: red; font-size: 50px; font-weight: bold;');
                console.log('%cCette documentation est confidentielle et propri√©t√© de HAPPLYZ MEDICAL SAS. Toute reproduction, copie ou diffusion non autoris√©e est strictement interdite et peut entra√Æner des poursuites judiciaires.', 'color: red; font-size: 16px;');
            });
        })();
    </script>

<div class="confidential-banner">
    ‚ö†Ô∏è DOCUMENTATION CONFIDENTIELLE - PROPRI√âT√â DE HAPPLYZ MEDICAL SAS - TOUTE REPRODUCTION INTERDITE
</div>

<div class="header">
    <h1>üè• OTT - Dispositif M√©dical IoT</h1>
    <div class="subtitle">Solution Enterprise de Monitoring Oxyg√©noth√©rapie</div>
    <div class="version-badge">Version 3.3 - Documentation Pr√©sentation</div>
    <p style="margin-top: 1rem; font-size: 1.1rem;">HAPPLYZ MEDICAL SAS</p>
</div>

<nav class="nav-menu">
    <ul>
        <li><a href="#intro">üìñ Introduction</a></li>
        <li><a href="#features">‚ú® Fonctionnalit√©s</a></li>
        <li><a href="#screenshots">üì∏ Captures d'√âcran</a></li>
        <li><a href="#security">üîí S√©curit√© & Permissions</a></li>
        <li><a href="#roadmap">üöÄ Roadmap</a></li>
    </ul>
</nav>

<div class="container">

<section id="intro" class="section">
    <h2>üìñ Introduction</h2>
    
    <p style="font-size: 1.15rem; margin-bottom: 1.5rem;">
        <strong>OTT (Oxygen Therapy Tracker)</strong> est un dispositif m√©dical IoT complet pour le monitoring 
        en temps r√©el de l'oxyg√©noth√©rapie √† domicile. Solution 100% cloud, s√©curis√©e et conforme aux normes m√©dicales.
    </p>
    
    <h3>üéØ Objectifs du Projet</h3>
    <ul>
        <li>‚úÖ <strong>Mesurer le d√©bit d'oxyg√®ne</strong> d√©livr√© par les concentrateurs domestiques</li>
        <li>‚úÖ <strong>Transmettre les donn√©es</strong> via 4G (SIM7600) vers le cloud</li>
        <li>‚úÖ <strong>Suivre l'observance</strong> des patients en temps r√©el</li>
        <li>‚úÖ <strong>Alerter</strong> en cas d'anomalie (panne, batterie faible, etc.)</li>
        <li>‚úÖ <strong>G√©rer multi-utilisateurs</strong> avec permissions granulaires</li>
        <li>‚úÖ <strong>Mise √† jour OTA</strong> (Over-The-Air) du firmware</li>
    </ul>
    
    <h3>üÜï Am√©liorations V3.3</h3>
    <div class="alert alert-info">
        <strong>Nouvelles fonctionnalit√©s de la version 3.3</strong>
        <ul style="margin-top: 0.5rem; margin-left: 1.5rem;">
            <li><strong>Streaming USB en temps r√©el</strong> : console USB int√©gr√©e avec d√©tection automatique (Web Serial API)</li>
            <li><strong>UsbContext global</strong> : d√©tection permanente des dispositifs USB, m√™me lors de la navigation entre pages</li>
            <li><strong>Menu simplifi√©</strong> : 4 pages principales avec fonctionnalit√©s regroup√©es (Vue d'Ensemble, Dispositifs, Patients, Utilisateurs)</li>
            <li><strong>Vue d'ensemble r√©organis√©e</strong> : section "Actions Requises" pour alertes critiques, batteries faibles, bo√Ætiers non assign√©s</li>
            <li><strong>Gestion utilisateurs compl√®te</strong> : cr√©ation, √©dition, suppression avec permissions granulaires</li>
            <li><strong>Gestion dispositifs</strong> : assignation aux patients, filtres (assign√©s/non assign√©s), d√©tails complets avec onglets</li>
            <li><strong>Carte interactive</strong> : visualisation des dispositifs avec statut (batterie, en ligne/hors ligne)</li>
            <li><strong>PWA installable</strong> : application progressive web avec manifest.json et service worker</li>
        </ul>
    </div>
    
    <div class="alert alert-success">
        <strong>‚úÖ Solution Cl√© en Main</strong><br>
        Co√ªt total : <strong>7‚Ç¨/mois</strong> (API Render Starter) vs 10 000‚Ç¨/mois avec solutions cloud classiques !<br>
        D√©ploiement complet en <strong>moins de 2 heures</strong>.
    </div>
</section>

<section id="features" class="section">
    <h2>‚ú® Fonctionnalit√©s Principales</h2>
    
    <div class="alert alert-info">
        <strong>‚ÑπÔ∏è Documentation de Pr√©sentation</strong><br>
        Cette documentation pr√©sente les fonctionnalit√©s et l'interface utilisateur de la solution OTT. 
        Les d√©tails techniques et d'impl√©mentation sont confidentiels et r√©serv√©s aux d√©veloppeurs autoris√©s.
    </div>
    
    <h3>üéØ Modules Principaux</h3>
    
    <h4>üìä Dashboard de Monitoring</h4>
    <ul>
        <li>Vue d'ensemble en temps r√©el des dispositifs</li>
        <li>Statistiques et indicateurs cl√©s</li>
        <li>Alertes critiques et actions requises</li>
        <li>Cartographie interactive des dispositifs</li>
    </ul>
    
    <h4>üîå Gestion des Dispositifs</h4>
    <ul>
        <li>Suivi en temps r√©el du statut (en ligne/hors ligne)</li>
        <li>Monitoring de la batterie</li>
        <li>Historique des mesures et logs</li>
        <li>Gestion des alertes par dispositif</li>
        <li>Mise √† jour firmware OTA (Over-The-Air)</li>
        <li>Flash USB local pour maintenance</li>
    </ul>
    
    <h4>üè• Gestion des Patients</h4>
    <ul>
        <li>Cr√©ation et √©dition de profils patients</li>
        <li>Assignation de dispositifs aux patients</li>
        <li>Suivi de l'observance th√©rapeutique</li>
        <li>Historique des mesures par patient</li>
    </ul>
    
    <h4>üë• Gestion des Utilisateurs</h4>
    <ul>
        <li>Syst√®me de r√¥les (Admin, M√©decin, Technicien)</li>
        <li>Permissions granulaires par fonctionnalit√©</li>
        <li>Gestion des acc√®s et authentification s√©curis√©e</li>
    </ul>
    
    <h4>üì° Communication & Mises √† Jour</h4>
    <ul>
        <li>Transmission s√©curis√©e des donn√©es via 4G</li>
        <li>Mises √† jour firmware √† distance (OTA)</li>
        <li>Streaming USB en temps r√©el pour diagnostic</li>
        <li>Notifications automatiques (alertes, batteries faibles)</li>
    </ul>
    
    <h4>üîí S√©curit√©</h4>
    <ul>
        <li>Authentification JWT s√©curis√©e</li>
        <li>Chiffrement HTTPS pour toutes les communications</li>
        <li>Permissions granulaires par utilisateur</li>
        <li>Conformit√© aux normes m√©dicales</li>
    </ul>
</section>

<section id="screenshots" class="section">
    <h2>üì∏ Captures d'√âcran de l'Interface</h2>
    
    <p>Cette section pr√©sente les diff√©rentes vues de l'interface utilisateur et les modals disponibles dans le dashboard OTT.</p>
    
    <h3>üîê Page de Connexion</h3>
    <p>La page d'authentification avec formulaire de connexion s√©curis√© :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/login.png" alt="Page de connexion" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" class="dark-mode-image" onerror="this.onerror=null; this.style.display='none'; this.nextElementSibling.style.display='flex';" />
        <div style="display: none; background: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%); min-height: 300px; align-items: center; justify-content: center; border: 2px dashed #ccc; border-radius: 8px; color: #999; font-style: italic; flex-direction: column; margin: 1rem 0;">
            üì∏ Page de connexion<br>
            <small style="display: block; margin-top: 0.5rem; font-size: 0.9rem;">Capture d'√©cran non disponible</small>
        </div>
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Page de connexion avec authentification JWT</p>
    </div>
    
    <h3>üè† Vue d'Ensemble (Dashboard)</h3>
    <p>La page principale avec les indicateurs cl√©s et les graphiques :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/dashboard-overview.png" alt="Vue d'ensemble" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" onerror="this.onerror=null; this.style.display='none'; this.nextElementSibling.style.display='flex';" />
        <div style="display: none; background: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%); min-height: 300px; align-items: center; justify-content: center; border: 2px dashed #ccc; border-radius: 8px; color: #999; font-style: italic; flex-direction: column; margin: 1rem 0;">
            üì∏ Vue d'ensemble<br>
            <small style="display: block; margin-top: 0.5rem; font-size: 0.9rem;">Capture d'√©cran non disponible</small>
        </div>
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Vue d'ensemble avec KPI, graphiques et actions requises</p>
    </div>
    
    <h3>üîå Page Dispositifs</h3>
    <p>La liste des dispositifs avec leurs statuts et informations :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/devices-list.png" alt="Liste des dispositifs" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" onerror="this.onerror=null; this.style.display='none'; this.nextElementSibling.style.display='flex';" />
        <div style="display: none; background: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%); min-height: 300px; align-items: center; justify-content: center; border: 2px dashed #ccc; border-radius: 8px; color: #999; font-style: italic; flex-direction: column; margin: 1rem 0;">
            üì∏ Liste des dispositifs<br>
            <small style="display: block; margin-top: 0.5rem; font-size: 0.9rem;">Capture d'√©cran non disponible</small>
        </div>
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Liste des dispositifs avec recherche et filtres</p>
    </div>
    
    <h3>üè• Page Patients</h3>
    <p>La gestion des patients avec leurs dispositifs associ√©s :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/patients-list.png" alt="Liste des patients" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" onerror="this.onerror=null; this.style.display='none'; this.nextElementSibling.style.display='flex';" />
        <div style="display: none; background: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%); min-height: 300px; align-items: center; justify-content: center; border: 2px dashed #ccc; border-radius: 8px; color: #999; font-style: italic; flex-direction: column; margin: 1rem 0;">
            üì∏ Liste des patients<br>
            <small style="display: block; margin-top: 0.5rem; font-size: 0.9rem;">Capture d'√©cran non disponible</small>
        </div>
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Liste des patients avec recherche, cr√©ation, modification, assignation/d√©sassignation de dispositifs. Interface simplifi√©e sans alertes (accessibles via le modal de d√©tails du dispositif).</p>
    </div>
    
    <h3>üìç Carte Interactive</h3>
    <p>La visualisation g√©ographique des dispositifs :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/map.png" alt="Carte interactive" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" onerror="this.onerror=null; this.style.display='none'; this.nextElementSibling.style.display='flex';" />
        <div style="display: none; background: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%); min-height: 300px; align-items: center; justify-content: center; border: 2px dashed #ccc; border-radius: 8px; color: #999; font-style: italic; flex-direction: column; margin: 1rem 0;">
            üì∏ Carte interactive<br>
            <small style="display: block; margin-top: 0.5rem; font-size: 0.9rem;">Capture d'√©cran non disponible</small>
        </div>
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Carte Leaflet avec marqueurs des dispositifs</p>
    </div>
    
    <h3>‚ö†Ô∏è Page Alertes</h3>
    <p>La liste des alertes avec leurs statuts :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/alerts.png" alt="Page alertes" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Gestion des alertes avec filtres et actions</p>
    </div>
    
    <h3>üë• Page Utilisateurs</h3>
    <p>La gestion des utilisateurs et des permissions :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/users.png" alt="Page utilisateurs" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Gestion des utilisateurs avec r√¥les, permissions, statut actif/inactif et derni√®re connexion. Interface simplifi√©e sans alertes (accessibles via le modal de d√©tails dispositif).</p>
    </div>
    
    <h3>üîÑ Page OTA</h3>
    <p>La gestion des mises √† jour OTA :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/ota.png" alt="Page OTA" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Gestion des mises √† jour OTA des dispositifs</p>
    </div>
    
    <h3>üìù Modals</h3>
    
    <h4>Modal Cr√©ation/√âdition Patient</h4>
    <p>Le modal pour cr√©er ou modifier un patient :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/modal-patient.png" alt="Modal patient" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Modal de cr√©ation/√©dition de patient avec formulaire complet</p>
    </div>
    
    <h4>Modal D√©tails Dispositif</h4>
    <p>Le modal avec les d√©tails complets d'un dispositif :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/modal-device-details.png" alt="Modal d√©tails dispositif" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Modal avec onglets : D√©tails, Alertes, Logs, Commandes, Streaming USB</p>
    </div>
    
    <h4>Modal Assignation Dispositif</h4>
    <p>Le modal pour assigner un dispositif √† un patient :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/modal-assign-device.png" alt="Modal assignation" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Modal d'assignation d'un dispositif libre √† un patient</p>
    </div>
    
    <h4>Modal Cr√©ation/√âdition Utilisateur</h4>
    <p>Le modal pour cr√©er ou modifier un utilisateur :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/modal-user.png" alt="Modal utilisateur" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Modal de cr√©ation/√©dition d'utilisateur avec gestion des r√¥les</p>
    </div>
    
    <h4>Modal D√©sassignation Dispositif</h4>
    <p>Le modal pour d√©sassigner un dispositif d'un patient :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/modal-unassign-device.png" alt="Modal d√©sassignation" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Modal de confirmation pour d√©sassigner un dispositif d'un patient</p>
    </div>
    
    <h4>Modal Commande Dispositif</h4>
    <p>Le modal pour envoyer une commande √† un dispositif :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/modal-command.png" alt="Modal commande" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Modal d'envoi de commandes (SET_SLEEP_SECONDS, PING, UPDATE_CONFIG, etc.)</p>
    </div>
    
    <h4>Modal Flash USB</h4>
    <p>Le modal pour le flash USB et le streaming s√©rie en temps r√©el :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/modal-usb-streaming.png" alt="Modal flash USB" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Modal de flash USB avec s√©lection de port s√©rie, choix de firmware, et terminal s√©rie avec filtres de logs et export</p>
    </div>
    
    <h4>Modal Upload Firmware</h4>
    <p>Le modal pour t√©l√©verser un nouveau firmware :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/modal-upload-firmware.png" alt="Modal upload firmware" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Modal de t√©l√©versement de firmware avec version, notes et option stable/beta</p>
    </div>
    
    <h4>Modal D√©tails Dispositif - Onglet Alertes</h4>
    <p>L'onglet Alertes du modal de d√©tails dispositif :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/modal-device-alerts.png" alt="Modal alertes dispositif" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Onglet Alertes du modal de d√©tails avec liste des alertes du dispositif</p>
    </div>
    
    <h4>Modal D√©tails Dispositif - Onglet Journal</h4>
    <p>L'onglet Journal du modal de d√©tails dispositif :</p>
    <div style="text-align: center; margin: 2rem 0;">
        <img src="screenshots/modal-device-logs.png" alt="Modal logs dispositif" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
        <p class="text-sm text-gray-600" style="margin-top: 0.5rem;">Onglet Journal du modal de d√©tails avec historique des logs du dispositif</p>
    </div>
</section>

<section id="security" class="section">
    <h2>üîí S√©curit√© & Permissions</h2>
    
    <h3>üõ°Ô∏è S√©curit√© Compl√®te de l'Application</h3>
    
    <p>L'application OTT impl√©mente une s√©curit√© multi-niveaux pour prot√©ger les donn√©es m√©dicales sensibles et garantir l'int√©grit√© du syst√®me.</p>
    
    <h4>1. üîê Authentification et Autorisation</h4>
    
    <ul>
        <li><strong>JWT (JSON Web Tokens)</strong> : Tokens sign√©s avec HMAC-SHA256, expiration 24h, v√©rification c√¥t√© serveur</li>
        <li><strong>Passwords hash√©s</strong> : Bcrypt avec cost 10, jamais stock√©s en clair</li>
        <li><strong>Syst√®me de permissions</strong> : R√¥les (admin, m√©decin, technicien) avec permissions granulaires</li>
        <li><strong>V√©rification d'activit√©</strong> : Seuls les utilisateurs actifs peuvent se connecter</li>
        <li><strong>Audit des connexions</strong> : Toutes les tentatives de connexion sont enregistr√©es</li>
    </ul>
    
    <h4>2. üõ°Ô∏è Protection des Donn√©es</h4>
    
    <ul>
        <li><strong>SQL Injection Protection</strong> : 100% des requ√™tes utilisent PDO::prepare() avec param√®tres li√©s</li>
        <li><strong>Chiffrement HTTPS</strong> : Toutes les communications sont chiffr√©es</li>
        <li><strong>Soft Delete</strong> : Suppression logique pour r√©cup√©ration des donn√©es</li>
        <li><strong>Validation des donn√©es</strong> : Validation stricte c√¥t√© serveur et client</li>
    </ul>
    
    <h3>üìä Tableau R√©capitulatif des Droits par R√¥le</h3>
    
    <p>Le syst√®me OTT utilise un syst√®me de permissions granulaires avec 3 r√¥les principaux. Voici un r√©capitulatif complet des droits d'acc√®s pour chaque type d'utilisateur :</p>
    
    <table style="width: 100%; border-collapse: collapse; margin: 2rem 0; font-size: 0.95rem;">
        <thead>
            <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                <th style="padding: 1rem; text-align: left; border: 1px solid #ddd;">Fonctionnalit√© / Action</th>
                <th style="padding: 1rem; text-align: center; border: 1px solid #ddd;">üëë Admin</th>
                <th style="padding: 1rem; text-align: center; border: 1px solid #ddd;">üë®‚Äç‚öïÔ∏è M√©decin</th>
                <th style="padding: 1rem; text-align: center; border: 1px solid #ddd;">üîß Technicien</th>
            </tr>
        </thead>
        <tbody>
            <tr style="background: #f8f9fa;">
                <td colspan="4" style="padding: 0.75rem; font-weight: bold; background: #e9ecef;">üìä VUE D'ENSEMBLE</td>
            </tr>
            <tr>
                <td style="padding: 0.75rem; border: 1px solid #ddd;">Consulter le tableau de bord (KPI, graphiques)</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
            </tr>
            <tr style="background: #f8f9fa;">
                <td colspan="4" style="padding: 0.75rem; font-weight: bold; background: #e9ecef;">üîå DISPOSITIFS</td>
            </tr>
            <tr>
                <td style="padding: 0.75rem; border: 1px solid #ddd;">Voir la liste des dispositifs</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
            </tr>
            <tr>
                <td style="padding: 0.75rem; border: 1px solid #ddd;">Voir les d√©tails d'un dispositif (statut, batterie, historique)</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
            </tr>
            <tr>
                <td style="padding: 0.75rem; border: 1px solid #ddd;">Modifier les informations d'un dispositif (nom, patient assign√©)</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚ùå</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
            </tr>
            <tr>
                <td style="padding: 0.75rem; border: 1px solid #ddd;">D√©clencher une mise √† jour OTA (Over-The-Air)</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚ùå</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
            </tr>
            <tr>
                <td style="padding: 0.75rem; border: 1px solid #ddd;">Envoyer des commandes aux dispositifs (SET_SLEEP_SECONDS, PING, etc.)</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚ùå</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
            </tr>
            <tr style="background: #f8f9fa;">
                <td colspan="4" style="padding: 0.75rem; font-weight: bold; background: #e9ecef;">üè• PATIENTS</td>
            </tr>
            <tr>
                <td style="padding: 0.75rem; border: 1px solid #ddd;">Voir la liste des patients</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
            </tr>
            <tr>
                <td style="padding: 0.75rem; border: 1px solid #ddd;">Cr√©er un nouveau patient</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
            </tr>
            <tr>
                <td style="padding: 0.75rem; border: 1px solid #ddd;">Modifier les informations d'un patient</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
            </tr>
            <tr>
                <td style="padding: 0.75rem; border: 1px solid #ddd;">Assigner un dispositif √† un patient</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
            </tr>
            <tr style="background: #f8f9fa;">
                <td colspan="4" style="padding: 0.75rem; font-weight: bold; background: #e9ecef;">üë• UTILISATEURS</td>
            </tr>
            <tr>
                <td style="padding: 0.75rem; border: 1px solid #ddd;">Voir la liste des utilisateurs</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚ùå</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚ùå</td>
            </tr>
            <tr>
                <td style="padding: 0.75rem; border: 1px solid #ddd;">Cr√©er un nouvel utilisateur</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚ùå</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚ùå</td>
            </tr>
            <tr>
                <td style="padding: 0.75rem; border: 1px solid #ddd;">G√©rer les r√¥les et permissions des utilisateurs</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚úÖ</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚ùå</td>
                <td style="padding: 0.75rem; text-align: center; border: 1px solid #ddd;">‚ùå</td>
            </tr>
        </tbody>
    </table>
    
    <div class="alert alert-info" style="margin-top: 2rem;">
        <strong>üí° Note importante :</strong>
        <ul style="margin-top: 0.5rem; margin-left: 1.5rem;">
            <li><strong>Admin</strong> : Acc√®s complet √† toutes les fonctionnalit√©s. Seul r√¥le pouvant g√©rer les utilisateurs et consulter l'audit.</li>
            <li><strong>M√©decin</strong> : Acc√®s en lecture/√©criture aux patients et dispositifs, mais pas aux fonctions techniques (OTA, commandes, firmware). Peut r√©soudre les alertes.</li>
            <li><strong>Technicien</strong> : Acc√®s technique complet (OTA, commandes, configuration, firmware) mais ne peut pas g√©rer les utilisateurs ni supprimer des patients/dispositifs.</li>
        </ul>
    </div>
</section>

<section id="roadmap" class="section">
    <h2>üöÄ Roadmap & Am√©liorations Futures</h2>
    
    <div class="alert alert-success">
        <strong>‚úÖ Version 3.3 (Actuelle - 2025)</strong><br>
        Version actuellement d√©ploy√©e avec les fonctionnalit√©s suivantes :
        <ul style="margin-top: 0.5rem; margin-left: 1.5rem;">
            <li>‚úÖ PWA installable (manifest.json, service worker)</li>
            <li>‚úÖ Streaming USB en temps r√©el avec UsbContext</li>
            <li>‚úÖ D√©tection automatique des dispositifs USB (Web Serial API)</li>
            <li>‚úÖ Dashboard React/Next.js complet avec authentification JWT</li>
            <li>‚úÖ Gestion multi-utilisateurs avec permissions granulaires</li>
            <li>‚úÖ API REST compl√®te avec PostgreSQL</li>
            <li>‚úÖ Mise √† jour OTA (Over-The-Air) du firmware</li>
            <li>‚úÖ Carte interactive Leaflet avec g√©olocalisation</li>
            <li>‚úÖ Syst√®me d'alertes et notifications</li>
        </ul>
    </div>
    
    <h3>üìÖ Version 3.4 (Q2-Q3 2025)</h3>
    
    <h4>üîê S√©curit√© Avanc√©e</h4>
    <ul>
        <li>‚ú® Authentification 2FA (Google Authenticator, SMS)</li>
        <li>‚ú® Rotation automatique JWT secrets (90 jours)</li>
        <li>‚ú® Logs d'audit avanc√©s avec alertes automatiques</li>
        <li>‚ú® D√©tection d'activit√©s suspectes</li>
    </ul>
    
    <h4>üì± PWA Am√©lior√©e</h4>
    <ul>
        <li>‚ú® Notifications Push natives</li>
        <li>‚ú® Mode offline complet (sync automatique)</li>
        <li>‚ú® Ic√¥nes PWA personnalis√©es</li>
        <li>‚ú® Installable sur iOS sans restrictions</li>
    </ul>
    
    <h4>üìä Analytics & BI</h4>
    <ul>
        <li>‚ú® Dashboard analytics avanc√©</li>
        <li>‚ú® Pr√©dictions ML (pannes, batteries)</li>
        <li>‚ú® Export automatique vers Excel/PDF</li>
        <li>‚ú® Rapports programm√©s (hebdo, mensuel)</li>
    </ul>
    
    <h3>üìÖ Version 3.5 (Q4 2025)</h3>
    
    <h4>üåç Internationalisation</h4>
    <ul>
        <li>‚ú® Support multi-langues (EN, ES, DE)</li>
        <li>‚ú® Timezone awareness complet</li>
        <li>‚ú® Formats de date localis√©s</li>
    </ul>
    
    <h4>‚ö° Performance</h4>
    <ul>
        <li>‚ú® Migration vers TypeScript</li>
        <li>‚ú® Server-Side Rendering (SSR)</li>
        <li>‚ú® Optimisation base de donn√©es (indices)</li>
        <li>‚ú® CDN pour assets statiques</li>
    </ul>
    
    <h3>üìÖ Version 4.0 (Q4 2026)</h3>
    
    <h4>ü§ñ Intelligence Artificielle</h4>
    <ul>
        <li>‚ú® D√©tection anomalies automatique (ML)</li>
        <li>‚ú® Maintenance pr√©dictive</li>
        <li>‚ú® Chatbot support int√©gr√©</li>
        <li>‚ú® Recommandations personnalis√©es</li>
    </ul>
    
    <h4>üè• Conformit√© M√©dicale</h4>
    <ul>
        <li>‚ú® Certification CE M√©dical Classe IIa</li>
        <li>‚ú® Conformit√© RGPD compl√®te (audit externe)</li>
        <li>‚ú® HDS (H√©bergement Donn√©es de Sant√©)</li>
        <li>‚ú® ISO 13485 (Qualit√© dispositifs m√©dicaux)</li>
    </ul>
</section>

</div>

<div class="footer">
    <p style="font-size: 1.3rem; margin-bottom: 0.5rem;"><strong>¬© 2025 HAPPLYZ MEDICAL SAS</strong></p>
    <p>OTT - Version 3.3 Enterprise | Documentation Pr√©sentation</p>
    <p style="margin-top: 1rem; font-size: 1rem; font-weight: bold;">
        üìö Documentation :
        <a href="DOCUMENTATION_PRESENTATION.html" style="color: white; text-decoration: underline; margin: 0 0.5rem;">üì∏ Pr√©sentation</a> | 
        <a href="DOCUMENTATION_DEVELOPPEURS.html" style="color: white; text-decoration: underline; margin: 0 0.5rem;">üíª D√©veloppeurs</a> | 
        <a href="DOCUMENTATION_COMMERCIALE.html" style="color: white; text-decoration: underline; margin: 0 0.5rem;">üíº Commerciale</a>
    </p>
    <p style="margin-top: 0.5rem; font-size: 0.9rem;">
        üåê <a href="https://ymora.github.io/OTT/" style="color: white; text-decoration: underline;">Dashboard Live</a>
    </p>
</div>

</body>
</html>

